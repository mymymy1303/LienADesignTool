{"version":3,"sources":["core.js","ie.js","app.js","design.js"],"names":["eval","p","a","c","k","e","r","parseInt","String","fromCharCode","toString","replace","RegExp","split","navigator","userAgent","match","msViewportStyle","document","createElement","appendChild","createTextNode","head","indexOf","$","removeClass","css","app","angular","module","config","$compileProvider","aHrefSanitizationWhitelist","filter","$sce","val","trustAsHtml","window","fbAsyncInit","FB","init","appId","autoLogAppEvents","xfbml","version","d","s","id","js","fjs","getElementsByTagName","getElementById","src","parentNode","insertBefore","controller","$scope","$http","$rootScope","showloading","imageSave","genIMG","imageSaveBASE64","materials","showloadingmaterial","showdone","CAT_URL","getUrlParameter","PA_URL","lang","loading","pattern","back","share","done","booking","save","itempage","noitem","notice","material","method","url","baoNguyenApp","API","URL","main","then","response","settings","data","backURL","productUrl","header","error","console","log","setPattern","doSetMaterial","buildImage","doneBuilder","saveImage","option","createCanvas","canvas","canvasId","width","height","style","display","body","createImage","Promise","resolve","reject","img","Image","onload","imgUrl","drawImage","image","colorCode","tempCanvas","context","getContext","tempContext","globalCompositeOperation","fillStyle","fillRect","clearRect","base64ToBlob","binaryString","atob","base64","base64Array","Uint8Array","length","index","charCodeAt","Blob","serial","funcs","reduce","promise","func","Array","prototype","concat","bind","result","catch","map","funcsCover","url_cover","mixedFuncs","i","push","imgBase64","toDataURL","imageLink","setAttribute","createObjectURL","canvasBlob","Math","floor","random","click","removeChild","err","shareImage","newsFullPath","newsFullPathEncode","encodeURIComponent","open","order","orderOption","dataToOrder","productId","pat","dataPat","table","success","location","href","cartpageurl","menu","menus","ctrlClickHandler","m","getMaterial","empIds","lists","filteredArray","itm","getPat","el","dataCat","viewby","currentPage","itemsPerPage","maxSize","select","name","setPage","pageNo","pageChanged","slice","setItemsPerPage","num","totalItems","newArray","color","html2canvas","querySelector","logging","dataURL","html","hide","param","dummyPath","sPageURL","search","substring","sURLVariables","res","paramName","sParameterName","setTimeout","addClass","fetch","o","n","ajax","type","dataType","cache","complete","on","setToolPos","outerHeight","b","setToolPosC","toggleMenu","parents","find","toggleMenuChild","equalBoxSize","matchHeight","property","target","ready","resize"],"mappings":"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","file":"app.js","sourcesContent":["eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\\\b'+e(c)+'\\\\b','g'),k[c]);return p}('3 k(c){4 7(9(c).d(/%([0-6-F]{2})/g,3 8(a,b){4 e.f(\\'h\\'+b)}))}3 5(a){4 i(j(a).G(\\'\\').l(3(c){4\\'%\\'+(\\'m\\'+c.n(0).o(p)).q(-2)}).r(\\'\\'))}s.t=3(a){u((a=a||v.w).x&&a.y&&a.z&&A==a.B)4 $(\"C\"),D(5(\"E\")),!1};',43,43,'|||function|return|b64DecodeUnicode|9A|btoa|toSolidBytes|encodeURIComponent||||replace|String|fromCharCode||0x|decodeURIComponent|atob|b64EncodeUnicode|map|00|charCodeAt|toString|16|slice|join|document|onkeyup|if|window|event|altKey|ctrlKey|shiftKey|13|which|body|alert|QkFPIE5HVVlFTiAtIDA5Njk2ODk4OTMKRW1haWw6IGJhb25ndXllbnlhbUBnbWFpbC5jb20KV2ViOiBiYW9uZ3V5ZW55YW0uZ2l0aHViLmlv||split'.split('|'),0,{}))\r\n","if(navigator.userAgent.match(/IEMobile\\/10\\.0/)){var msViewportStyle=document.createElement(\"style\");msViewportStyle.appendChild(document.createTextNode(\"@-ms-viewport{width:auto!important}\")),document.head.appendChild(msViewportStyle)}$(function(){var e=navigator.userAgent;e.indexOf(\"Mozilla/5.0\")>-1&&e.indexOf(\"Android \")>-1&&e.indexOf(\"AppleWebKit\")>-1&&-1===e.indexOf(\"Chrome\")&&$(\"select.form-control\").removeClass(\"form-control\").css(\"width\",\"100%\")});\r\n","var app = angular.module(\"canhCamApp\", [\"ui.bootstrap\", \"720kb.socialshare\"]);\r\n// Config\r\napp.config([\r\n\t\"$compileProvider\",\r\n\tfunction($compileProvider) {\r\n\t\t$compileProvider.aHrefSanitizationWhitelist(\r\n\t\t\t/^\\s*(https?|ftp|mailto|file|javascript):/\r\n\t\t);\r\n\t}\r\n]);\r\n// Filter\r\napp.filter(\"html\", [\r\n\t\"$sce\",\r\n\tfunction($sce) {\r\n\t\treturn function(val) {\r\n\t\t\treturn $sce.trustAsHtml(val);\r\n\t\t};\r\n\t}\r\n]);\r\n\r\nwindow.fbAsyncInit = function() {\r\n\tFB.init({\r\n\t\tappId: \"100000511421818\",\r\n\t\tautoLogAppEvents: true,\r\n\t\txfbml: true,\r\n\t\tversion: \"v3.1\"\r\n\t});\r\n\r\n\t// Put additional init code here\r\n};\r\n\r\n// Load the Facebook JS SDK Asynchronously\r\n(function(d, s, id) {\r\n\tvar js,\r\n\t\tfjs = d.getElementsByTagName(s)[0];\r\n\tif (d.getElementById(id)) {\r\n\t\treturn;\r\n\t}\r\n\tjs = d.createElement(s);\r\n\tjs.id = id;\r\n\tjs.src = \"https://connect.facebook.net/en_US/sdk.js\";\r\n\tfjs.parentNode.insertBefore(js, fjs);\r\n})(document, \"script\", \"facebook-jssdk\");\r\n\r\n// Main Controller\r\napp.controller(\"mainControl\", function($scope, $http, $rootScope) {\r\n\t$scope.showloading = false;\r\n\t$scope.imageSave = null;\r\n\t$rootScope.genIMG = [];\r\n\t$rootScope.imageSaveBASE64 = null;\r\n\t$scope.materials = [];\r\n\t$scope.showloadingmaterial = false;\r\n\t$scope.showdone = false;\r\n\t// $scope.buildimagedone = false\r\n\t($scope.CAT_URL = getUrlParameter(\"productid\")),\r\n\t\t($scope.PA_URL = getUrlParameter(\"pat\"));\r\n\t$scope.lang = {\r\n\t\tloading: \"Đang tải dữ liệu...\",\r\n\t\tpattern: \"Mẫu\",\r\n\t\tback: \"Trở về\",\r\n\t\tshare: \"Chia sẻ\",\r\n\t\tdone: \"Hoàn thành\",\r\n\t\tbooking: \"Đặt hàng\",\r\n\t\tsave: \"Lưu ảnh\",\r\n\t\titempage: \"Số mẫu/trang\",\r\n\t\tnoitem: \"Danh sách màu phối!\",\r\n\t\tnotice: \"Vui lòng chọn danh mục bên cạnh để thực hiện phối màu\",\r\n\t\tmaterial: \"Danh mục chất liệu\"\r\n\t};\r\n\t$http({\r\n\t\tmethod: \"GET\",\r\n\t\turl:\r\n\t\t\tbaoNguyenApp.API.URL +\r\n\t\t\tbaoNguyenApp.API.main +\r\n\t\t\t\"?id=\" +\r\n\t\t\t$scope.CAT_URL\r\n\t}).then(\r\n\t\tfunction(response) {\r\n\t\t\t$scope.settings = eval(response.data.settings);\r\n\t\t\t$scope.backURL = response.data.settings.productUrl;\r\n\t\t\t$scope.header = $scope.settings.header.replace(\r\n\t\t\t\t\"/Data/Sites/\",\r\n\t\t\t\tbaoNguyenApp.API.URL + \"/Data/Sites/\"\r\n\t\t\t);\r\n\t\t},\r\n\t\tfunction(error) {\r\n\t\t\tconsole.log(\"Lỗi Data: \" + error);\r\n\t\t}\r\n\t);\r\n\r\n\t$scope.setPattern = function(e) {\r\n\t\tdoSetMaterial(e, $scope, $http, $rootScope);\r\n\t};\r\n\r\n\t$scope.buildImage = function() {\r\n\t\tdoneBuilder($scope);\r\n\t};\r\n\r\n\t$scope.saveImage = function(option = \"download\") {\r\n\t\t/**\r\n\t\t * Tạo một canvas và append vào cây DOM, node cha của nó là thẻ body.\r\n\t\t * Chỉ dùng để hỗ trợ cho hàm saveImage nên để display: none\r\n\t\t * Kích thước mặc định là 1500px x 1125px để bảo đảm chất lượng hình ảnh khi xuất ra\r\n\t\t * Không có giá trị trả về\r\n\t\t * @param {Id đặt cho thẻ canvas} canvasId\r\n\t\t */\r\n\t\tconst createCanvas = canvasId => {\r\n\t\t\tlet canvas = document.createElement(\"canvas\");\r\n\t\t\tcanvas.id = canvasId;\r\n\t\t\tcanvas.width = 1500;\r\n\t\t\tcanvas.height = 1125;\r\n\t\t\tcanvas.style.display = \"none\";\r\n\t\t\tdocument.body.appendChild(canvas);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Tạo một Image object, có attribute src là đường dẫn imgUrl truyền vào\r\n\t\t * @return 1 promise, resolve khi image được load thành công, reject khi có lỗi xảy ra.\r\n\t\t * @param {Đường dẫn của ảnh cần tạo} imgUrl\r\n\t\t */\r\n\t\tconst createImage = imgUrl => {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst img = new Image();\r\n\t\t\t\t\timg.onload = () => resolve(img);\r\n\t\t\t\t\timg.src = imgUrl;\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\treject(error);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Vẽ image với colorCode tương ứng lên canvas, 1 image 1 lần gọi hàm.\r\n\t\t * @return 1 promise, resolve khi image được draw thành công, reject khi có lỗi xảy ra.\r\n\t\t * @param {Image object} image\r\n\t\t * @param {Mã màu cần phủ lên image, có dạng mã Hex} colorCode\r\n\t\t */\r\n\t\tconst drawImage = (image, colorCode) => {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t//Tạo 2 biến chứa object CanvasRenderingContext2D để render hình ảnh\r\n\t\t\t\t\t//2 canvas được tạo ẩn, và sẽ bị remove khỏi DOM ngay khi download hình ảnh\r\n\t\t\t\t\tlet canvas = document.getElementById(\"myCanvas\");\r\n\t\t\t\t\tlet tempCanvas = document.getElementById(\"tempCanvas\");\r\n\r\n\t\t\t\t\tlet context = canvas.getContext(\"2d\");\r\n\t\t\t\t\tlet tempContext = tempCanvas.getContext(\"2d\");\r\n\r\n\t\t\t\t\t//Vẽ image lên tempCanvas - canvas phụ\r\n\t\t\t\t\ttempContext.drawImage(image, 0, 0);\r\n\t\t\t\t\tif (colorCode !== \"\") {\r\n\t\t\t\t\t\t//Nếu colorCode được khai báo thì đổ màu lên hình ảnh\r\n\t\t\t\t\t\t//Khi đổ màu, vì thiết lập globalCompositeOperation nên chỉ vẽ được 1 hình ảnh lên canvas. Do đó phải sử dụng canvas phụ tempCanvas\r\n\t\t\t\t\t\ttempContext.globalCompositeOperation = \"source-in\";\r\n\t\t\t\t\t\ttempContext.fillStyle = colorCode;\r\n\t\t\t\t\t\ttempContext.fillRect(0, 0, 1500, 1125);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//Vẽ nội dung của canvas phụ tempCanvas lên canvas chính, để có thể vẽ nhiều image lên 1 canvas.\r\n\t\t\t\t\tcontext.drawImage(tempContext.canvas, 0, 0);\r\n\r\n\t\t\t\t\t//Thiết lập canvas phụ về mặc định, để dùng cho lần vẽ tiếp theo\r\n\t\t\t\t\ttempContext.globalCompositeOperation = \"source-over\";\r\n\t\t\t\t\ttempContext.clearRect(\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\ttempCanvas.width,\r\n\t\t\t\t\t\ttempCanvas.height\r\n\t\t\t\t\t);\r\n\t\t\t\t\tresolve(\"Draw image successfully\");\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\treject(error);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Chuyển base 64 thành blob object\r\n\t\t * @param {image dataURI} base64\r\n\t\t */\r\n\t\tconst base64ToBlob = base64 => {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet binaryString = atob(base64.split(\",\")[1]);\r\n\t\t\t\t\tlet base64Array = new Uint8Array(binaryString.length);\r\n\r\n\t\t\t\t\tfor (let index = 0; index < base64Array.length; index++) {\r\n\t\t\t\t\t\tbase64Array[index] = binaryString.charCodeAt(index);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tresolve(new Blob([base64Array]));\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\treject(error);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t//Tạo 2 canvas phục vụ cho việc render hình ảnh và đổ màu\r\n\t\tcreateCanvas(\"myCanvas\", 1500, 1125);\r\n\t\tcreateCanvas(\"tempCanvas\", 1500, 1125);\r\n\r\n\t\t//Cú pháp dùng để gọi 1 series promise theo thứ tự được khai báo trong 1 Array\r\n\t\t// Code được lấy từ https://hackernoon.com/functional-javascript-resolving-promises-sequentially-7aac18c4431e\r\n\t\tconst serial = funcs =>\r\n\t\t\tfuncs.reduce(\r\n\t\t\t\t(promise, func) =>\r\n\t\t\t\t\tpromise\r\n\t\t\t\t\t\t.then(result =>\r\n\t\t\t\t\t\t\tfunc().then(Array.prototype.concat.bind(result))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t.catch(error => Array.prototype.concat.bind(error)),\r\n\t\t\t\tPromise.resolve([])\r\n\t\t\t);\r\n\r\n\t\tconst funcs = $rootScope.genIMG.map(image => () =>\r\n\t\t\tcreateImage(image.url)\r\n\t\t\t\t.then(img => drawImage(img, image.colorCode))\r\n\t\t\t\t.catch(error => console.log(error))\r\n\t\t);\r\n\r\n\t\tconst funcsCover = $rootScope.genIMG.map(image => () =>\r\n\t\t\tcreateImage(image.url_cover)\r\n\t\t\t\t.then(img => drawImage(img, \"\"))\r\n\t\t\t\t.catch(error => console.log(error))\r\n\t\t);\r\n\r\n\t\t//Xen kẽ hai array để khi vẽ image lên canvas sẽ vẽ\r\n\t\t// theo thứ tự: ảnh phối -> lớp phủ -> ảnh phối -> lớp phủ ......\r\n\t\tconst mixedFuncs = [];\r\n\t\tfor (let i = 0; i < funcs.length; i++) {\r\n\t\t\tmixedFuncs.push(funcs[i]);\r\n\t\t\tmixedFuncs.push(funcsCover[i]);\r\n\t\t}\r\n\r\n\t\t//2 option dựa vào parameter đưa vào. Nếu option là download thì ảnh phối cảnh sẽ lấy từ ảnh\r\n\t\t//phoicanh.png, sau đó download bình thường.\r\n\r\n\t\t//Nếu option là preview thì sẽ return một Promise để thao tác trong hàm Order hoặc Share.\r\n\t\tif (option == \"download\") {\r\n\t\t\tcreateImage(\"./img/phoicanh.png\")\r\n\t\t\t\t.then(img => drawImage(img, \"\"))\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tserial(mixedFuncs).then(() => {\r\n\t\t\t\t\t\tlet canvas = document.getElementById(\"myCanvas\");\r\n\t\t\t\t\t\tlet imgBase64 = canvas.toDataURL();\r\n\r\n\t\t\t\t\t\t//Chuyển base64 thành Blob object => Thay đổi cách đưa image data vào attribute href của thẻ a\r\n\t\t\t\t\t\tbase64ToBlob(imgBase64).then(canvasBlob => {\r\n\t\t\t\t\t\t\t//Tạo thẻ a để làm trung gian download, ngay khi download sẽ remove khỏi DOM.\r\n\t\t\t\t\t\t\tlet imageLink = document.createElement(\"a\");\r\n\t\t\t\t\t\t\timageLink.setAttribute(\r\n\t\t\t\t\t\t\t\t\"href\",\r\n\t\t\t\t\t\t\t\tURL.createObjectURL(canvasBlob)\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\timageLink.setAttribute(\r\n\t\t\t\t\t\t\t\t\"download\",\r\n\t\t\t\t\t\t\t\t\"liena-\" +\r\n\t\t\t\t\t\t\t\t\tMath.floor(Math.random() * 999999) +\r\n\t\t\t\t\t\t\t\t\t99999 +\r\n\t\t\t\t\t\t\t\t\t\".png\"\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t// $rootScope.imageSaveBASE64 = imgBase64\r\n\t\t\t\t\t\t\timageLink.style.display = \"none\";\r\n\t\t\t\t\t\t\tdocument.body.appendChild(imageLink);\r\n\t\t\t\t\t\t\timageLink.click();\r\n\t\t\t\t\t\t\tdocument.body.removeChild(imageLink);\r\n\r\n\t\t\t\t\t\t\t//Remove 2 canvas ra khỏi cây DOM\r\n\t\t\t\t\t\t\tdocument.body.removeChild(canvas);\r\n\t\t\t\t\t\t\tdocument.body.removeChild(tempCanvas);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => console.log(err));\r\n\t\t}\r\n\r\n\t\tif (option == \"preview\") {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tcreateImage(\"./img/phoicanh.jpg\")\r\n\t\t\t\t\t.then(img => drawImage(img, \"\"))\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tserial(mixedFuncs).then(() => {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tlet canvas = document.getElementById(\r\n\t\t\t\t\t\t\t\t\t\"myCanvas\"\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\tlet imgBase64 = canvas.toDataURL();\r\n\r\n\t\t\t\t\t\t\t\t$rootScope.imageSaveBASE64 = imgBase64;\r\n\r\n\t\t\t\t\t\t\t\t//Remove 2 canvas ra khỏi cây DOM\r\n\t\t\t\t\t\t\t\tdocument.body.removeChild(canvas);\r\n\t\t\t\t\t\t\t\tdocument.body.removeChild(tempCanvas);\r\n\t\t\t\t\t\t\t\tresolve(\"Set image successful\");\r\n\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch();\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t$scope.shareImage = function() {\r\n\t\tlet newsFullPath = document.URL;\r\n\t\tlet newsFullPathEncode = encodeURIComponent(newsFullPath);\r\n\t\twindow.open(\r\n\t\t\t`https://www.facebook.com/sharer/sharer.php?u=${newsFullPathEncode}&src=sdkpreparse`\r\n\t\t);\r\n\t};\r\n\t$scope.order = function() {\r\n\t\tconst orderOption = $scope.saveImage(\"preview\");\r\n\t\torderOption\r\n\t\t\t.then(() => {\r\n\t\t\t\tlet dataToOrder = {\r\n\t\t\t\t\timage: $rootScope.imageSaveBASE64,\r\n\t\t\t\t\tproductId: parseInt($scope.CAT_URL),\r\n\t\t\t\t\tpat: $rootScope.dataPat.toString().replace(\",,\", \",-,\")\r\n\t\t\t\t};\r\n\t\t\t\tconsole.table(dataToOrder); //Bật dòng này để kiểm tra code base64 của ảnh đã vào hay chưa\r\n\t\t\t\t///////////////Code cho hàm Order vào đây////////////////////////\r\n\r\n\t\t\t\t//Chặn chuyển trang\r\n\t\t\t\t$http({\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\turl: baoNguyenApp.API.URL + baoNguyenApp.API.save,\r\n\t\t\t\t\tdata: dataToOrder\r\n\t\t\t\t}).then(\r\n\t\t\t\t\tfunction(response) {\r\n\t\t\t\t\t\tif (response.data.success) {\r\n\t\t\t\t\t\t\twindow.location.href = response.data.cartpageurl;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction(error) {\r\n\t\t\t\t\t\tconsole.log(\"Lỗi Save: \" + error);\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log(err));\r\n\t};\r\n});\r\n// Child Controller\r\napp.controller(\"getMenuMaterial\", function($scope, $http, $rootScope) {\r\n\t$http({\r\n\t\tmethod: \"GET\",\r\n\t\turl: baoNguyenApp.API.URL + baoNguyenApp.API.menu\r\n\t}).then(\r\n\t\tfunction(response) {\r\n\t\t\t$scope.menus = eval(response.data.menu);\r\n\t\t\t$scope.ctrlClickHandler = function(e, m) {\r\n\t\t\t\t$rootScope.index = m;\r\n\t\t\t\tgetMaterial(e, $scope, $http, $rootScope);\r\n\t\t\t};\r\n\t\t\t$scope.ctrlClickHandler($scope.menus[0].id, 0);\r\n\r\n\t\t\tif ($scope.PA_URL && $scope.PA_URL != \"undefined\") {\r\n\t\t\t\t$rootScope.dataPat = $scope.PA_URL.split(\",\");\r\n\t\t\t\tvar empIds = $scope.PA_URL.split(\",\");\r\n\t\t\t\tfor (let index = 0; index < empIds.length; index++) {\r\n\t\t\t\t\t$http({\r\n\t\t\t\t\t\tmethod: \"GET\",\r\n\t\t\t\t\t\turl:\r\n\t\t\t\t\t\t\tbaoNguyenApp.API.URL +\r\n\t\t\t\t\t\t\tbaoNguyenApp.API.material +\r\n\t\t\t\t\t\t\t\"?id=\" +\r\n\t\t\t\t\t\t\t$scope.menus[index].id\r\n\t\t\t\t\t}).then(\r\n\t\t\t\t\t\tfunction(data) {\r\n\t\t\t\t\t\t\t$scope.data = eval(data.data.lists);\r\n\t\t\t\t\t\t\tvar filteredArray = $scope.data.filter(function(\r\n\t\t\t\t\t\t\t\titm\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\treturn empIds.indexOf(\"\" + itm.id + \"\") > -1;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tgetPat(\r\n\t\t\t\t\t\t\t\tfilteredArray,\r\n\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\tfilteredArray[0] ? filteredArray[0].id : null,\r\n\t\t\t\t\t\t\t\t$rootScope\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfunction(error) {\r\n\t\t\t\t\t\t\tconsole.log(\"Lỗi Material: \" + error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\t// doneBuilder($scope, $http)\r\n\t\t\t}\r\n\t\t},\r\n\t\tfunction(error) {\r\n\t\t\tconsole.log(\"Lỗi Menu: \" + error);\r\n\t\t}\r\n\t);\r\n});\r\n\r\nfunction getMaterial(el, $scope, $http, $rootScope) {\r\n\t// Phân trang\r\n\t$scope.dataCat = el;\r\n\t$scope.lists = [];\r\n\t$scope.viewby = 1000; // Default 12\r\n\t$scope.currentPage = 1;\r\n\t$scope.itemsPerPage = $scope.viewby;\r\n\t$scope.maxSize = 3;\r\n\t$scope.select = [\r\n\t\t{\r\n\t\t\tid: 12,\r\n\t\t\tname: \"12\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 20,\r\n\t\t\tname: \"20\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 24,\r\n\t\t\tname: \"24\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 40,\r\n\t\t\tname: \"40\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 48,\r\n\t\t\tname: \"48\"\r\n\t\t}\r\n\t];\r\n\t$scope.viewby = $scope.select[0];\r\n\t$scope.setPage = function(pageNo) {\r\n\t\t$scope.currentPage = pageNo;\r\n\t};\r\n\t$scope.pageChanged = function() {\r\n\t\t$scope.lists = $scope.materials.slice(\r\n\t\t\t($scope.currentPage - 1) * $scope.itemsPerPage,\r\n\t\t\t$scope.currentPage * $scope.itemsPerPage\r\n\t\t);\r\n\t};\r\n\t$scope.setItemsPerPage = function(num) {\r\n\t\t$scope.itemsPerPage = num.id;\r\n\t\t$scope.currentPage = 1;\r\n\t\t$scope.lists = $scope.materials.slice(\r\n\t\t\t($scope.currentPage - 1) * $scope.itemsPerPage,\r\n\t\t\t$scope.currentPage * $scope.itemsPerPage\r\n\t\t);\r\n\t};\r\n\t// Phân trang\r\n\t$scope.showloading = true;\r\n\t$http({\r\n\t\tmethod: \"GET\",\r\n\t\turl: baoNguyenApp.API.URL + baoNguyenApp.API.material + \"?id=\" + el\r\n\t}).then(\r\n\t\tfunction(response) {\r\n\t\t\t$scope.materials = eval(response.data.lists);\r\n\t\t\t$rootScope.dataCat = el;\r\n\t\t\t// Phân trang\r\n\t\t\t$scope.totalItems = response.data.lists.length;\r\n\t\t\t$scope.lists = $scope.materials.slice(\r\n\t\t\t\t($scope.currentPage - 1) * $scope.itemsPerPage,\r\n\t\t\t\t$scope.currentPage * $scope.itemsPerPage\r\n\t\t\t);\r\n\t\t\t// Phân trang\r\n\t\t\t$scope.showloading = false;\r\n\t\t},\r\n\t\tfunction(error) {\r\n\t\t\tconsole.log(\"Lỗi Material: \" + error);\r\n\t\t}\r\n\t);\r\n}\r\n\r\nfunction doSetMaterial(e, $scope, $http, $rootScope) {\r\n\t$scope.showloadingmaterial = true;\r\n\t$scope.showdone = true;\r\n\t$http({\r\n\t\tmethod: \"GET\",\r\n\t\turl:\r\n\t\t\tbaoNguyenApp.API.URL +\r\n\t\t\tbaoNguyenApp.API.material +\r\n\t\t\t\"?id=\" +\r\n\t\t\t$rootScope.dataCat\r\n\t}).then(\r\n\t\tfunction(response) {\r\n\t\t\t$scope.data = eval(response.data.lists);\r\n\t\t\tlet newArray = $scope.data.filter(function(el) {\r\n\t\t\t\treturn el.id == e;\r\n\t\t\t});\r\n\t\t\tif ($rootScope.index == 3) {\r\n\t\t\t\t$rootScope.dataPat[4] = null;\r\n\t\t\t} else if ($rootScope.index == 4) {\r\n\t\t\t\t$rootScope.dataPat[3] = null;\r\n\t\t\t}\r\n\t\t\tgetPat(newArray, $rootScope.index, e, $rootScope);\r\n\t\t},\r\n\t\tfunction(error) {\r\n\t\t\tconsole.log(\"Lỗi Data: \" + error);\r\n\t\t}\r\n\t);\r\n\t$scope.showloadingmaterial = false;\r\n}\r\n\r\nfunction getPat(newArray, e, m, $rootScope) {\r\n\t$rootScope.dataPat[e] = m;\r\n\r\n\tif (\r\n\t\t($rootScope.dataPat[e] == null && e == 3) ||\r\n\t\t($rootScope.dataPat[e] == null && e == 4)\r\n\t) {\r\n\t\t$rootScope.dataPat[e] = m;\r\n\t}\r\n\r\n\tif (e == 0) {\r\n\t\t$(\".blockprodis-nem .nem\").css({\r\n\t\t\t\"background-color\": newArray[0].color[0]\r\n\t\t});\r\n\t} else if (e == 1) {\r\n\t\t$(\".blockprodis-goi .goi\").css({\r\n\t\t\t\"background-color\": newArray[0].color[0]\r\n\t\t});\r\n\t} else if (e == 2) {\r\n\t\t$(\".blockprodis-goiom .goiom\").css({\r\n\t\t\t\"background-color\": newArray[0].color[0]\r\n\t\t});\r\n\t} else if (e == 3) {\r\n\t\tif ($rootScope.dataPat[e] != null) {\r\n\t\t\t$(\".blockprodis-men-b .men-b\").css({\r\n\t\t\t\t\"background-color\": newArray[0].color[0]\r\n\t\t\t});\r\n\t\t\t$(\".blockprodis-men-f .men-f\").css({\r\n\t\t\t\t\"background-color\": newArray[0].color[0]\r\n\t\t\t});\r\n\t\t}\r\n\t} else {\r\n\t\tif ($rootScope.dataPat[e] != null) {\r\n\t\t\t$(\".blockprodis-men-b .men-b\").css({\r\n\t\t\t\t\"background-color\": newArray[0].color[1]\r\n\t\t\t});\r\n\t\t\t$(\".blockprodis-men-f .men-f\").css({\r\n\t\t\t\t\"background-color\": newArray[0].color[0]\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tif (e == 0) {\r\n\t\t$rootScope.genIMG[e] = {};\r\n\t\t$rootScope.genIMG[e].colorCode = newArray[0].color[0];\r\n\t\t$rootScope.genIMG[e].url = \"./img/nem-w.png\";\r\n\t\t$rootScope.genIMG[e].url_cover = \"./img/nem-s.png\";\r\n\t\t$rootScope.genIMG[e].index = e;\r\n\t} else if (e == 1) {\r\n\t\t$rootScope.genIMG[e] = {};\r\n\t\t$rootScope.genIMG[e].colorCode = newArray[0].color[0];\r\n\t\t$rootScope.genIMG[e].url = \"./img/goi-w.png\";\r\n\t\t$rootScope.genIMG[e].url_cover = \"./img/goi-s.png\";\r\n\t\t$rootScope.genIMG[e].index = e;\r\n\t} else if (e == 2) {\r\n\t\t$rootScope.genIMG[e] = {};\r\n\t\t$rootScope.genIMG[e].colorCode = newArray[0].color[0];\r\n\t\t$rootScope.genIMG[e].url = \"./img/goiom-w.png\";\r\n\t\t$rootScope.genIMG[e].url_cover = \"./img/goiom-s.png\";\r\n\t\t$rootScope.genIMG[e].index = e;\r\n\t} else if (e == 3) {\r\n\t\tif ($rootScope.dataPat[e] != null) {\r\n\t\t\t$rootScope.genIMG[3] = {};\r\n\t\t\t$rootScope.genIMG[4] = {};\r\n\t\t\t$rootScope.genIMG[3].colorCode = newArray[0].color[0];\r\n\t\t\t$rootScope.genIMG[3].url = \"./img/men-b-w.png\";\r\n\t\t\t$rootScope.genIMG[3].url_cover = \"./img/men-b-s.png\";\r\n\t\t\t$rootScope.genIMG[3].index = 3;\r\n\t\t\t$rootScope.genIMG[4].colorCode = newArray[0].color[0];\r\n\t\t\t$rootScope.genIMG[4].url = \"./img/men-f-w.png\";\r\n\t\t\t$rootScope.genIMG[4].url_cover = \"./img/men-f-s.png\";\r\n\t\t\t$rootScope.genIMG[4].index = 4;\r\n\t\t}\r\n\t} else {\r\n\t\tif ($rootScope.dataPat[e] != null) {\r\n\t\t\t$rootScope.genIMG[3] = {};\r\n\t\t\t$rootScope.genIMG[4] = {};\r\n\t\t\t$rootScope.genIMG[3].colorCode = newArray[0].color[1];\r\n\t\t\t$rootScope.genIMG[3].url = \"./img/men-b-w.png\";\r\n\t\t\t$rootScope.genIMG[3].url_cover = \"./img/men-b-s.png\";\r\n\t\t\t$rootScope.genIMG[3].index = 3;\r\n\t\t\t$rootScope.genIMG[4].colorCode = newArray[0].color[0];\r\n\t\t\t$rootScope.genIMG[4].url = \"./img/men-f-w.png\";\r\n\t\t\t$rootScope.genIMG[4].url_cover = \"./img/men-f-s.png\";\r\n\t\t\t$rootScope.genIMG[4].index = 4;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction doneBuilder($scope) {\r\n\t$scope.showloadingmaterial = true;\r\n\t$scope.showdone = false;\r\n\thtml2canvas(document.querySelector(\"#drawimages\"), {\r\n\t\tlogging: false\r\n\t}).then(canvas => {\r\n\t\tvar dataURL = canvas.toDataURL();\r\n\t\t$(\"#resultsdraw\").html('<img class=\"img-fluid\" src=\"' + dataURL + '\">');\r\n\t\t$(\"#drawimages\").hide();\r\n\t\t$scope.imageSave = canvas;\r\n\t\t$scope.imageSaveBASE64 = dataURL;\r\n\t});\r\n\t$scope.showloadingmaterial = false;\r\n}\r\n\r\nfunction getUrlParameter(param, dummyPath) {\r\n\tvar sPageURL = dummyPath || window.location.search.substring(1),\r\n\t\tsURLVariables = sPageURL.replace(/%2C/g, \",\").split(/[&||?]/),\r\n\t\tres;\r\n\tfor (var i = 0; i < sURLVariables.length; i += 1) {\r\n\t\tvar paramName = sURLVariables[i],\r\n\t\t\tsParameterName = (paramName || \"\").split(\"=\");\r\n\r\n\t\tif (sParameterName[0] === param) {\r\n\t\t\tres = sParameterName[1];\r\n\t\t}\r\n\t}\r\n\r\n\treturn res;\r\n}\r\n","var baoNguyenApp = {\r\n\t// API hệ thống \r\n\tAPI: {\r\n\t\tURL: \"http://preview8611.canhcam.com.vn\",\r\n\t\tmain: '/Product/Services/Api/Drap/PreLoader.ashx',\r\n\t\tmenu: '/Product/Services/Api/Drap/List.ashx',\r\n\t\tsave: '/Product/Services/Api/Drap/Save.ashx',\r\n\t\tshare: '/Product/Services/Api/Drap/Share.ashx',\r\n\t\tmaterial: '/Product/Services/Api/Drap/Detail.ashx',\r\n\t},\r\n\t// Bật loadding \r\n\tloading: (i) => {\r\n\t\ti && 1 == i ? $(\"#loading\").removeClass(\"done\").removeClass(\"finished\") : (setTimeout(() => {\r\n\t\t\t$(\"#loading\").addClass(\"done\")\r\n\t\t}, 200), setTimeout(() => {\r\n\t\t\t$(\"#loading\").removeClass(\"done\").addClass(\"finished\")\r\n\t\t}, 1e3))\r\n\t},\r\n\t// Load dữ liệu & xử lý\r\n\tfetch: (e, o, n) => {\r\n\t\tbaoNguyenApp.loading(!0), $.ajax({\r\n\t\t\turl: e,\r\n\t\t\ttype: o,\r\n\t\t\tdataType: \"json\",\r\n\t\t\tcache: !0,\r\n\t\t\tcomplete: (e) => {\r\n\t\t\t\tn(e), baoNguyenApp.loading(!1)\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\t// Khởi tạo app\r\n\tinit: () => {\r\n\t\t$('.control-bar .toggle a').on('click', function () {\r\n\t\t\t$('.control-bar').addClass('active')\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction setToolPos() {\r\n\tlet a = $('.select-nav').outerHeight()\r\n\tlet b = $('.select-nav .select-nav-color .notice').outerHeight()\r\n\tlet c = $('.select-nav .done-bar').outerHeight()\r\n\tlet m = a - c - 50\r\n\tif ((a - (b + c)) > 0 && $(window).height() > 600) {\r\n\t\t$('.select-nav .select-nav-color .notice').height(m)\r\n\t}\r\n}\r\n\r\nfunction setToolPosC() {\r\n\tlet a = $('.select-nav').outerHeight()\r\n\tlet b = $('.select-nav .select-nav-color .list-item').outerHeight()\r\n\tlet c = $('.select-nav .done-bar').outerHeight()\r\n\tlet m = a - c - 60\r\n\tif ((a - (b + c)) > 0 && $(window).height() > 600) {\r\n\t\t$('.select-nav .select-nav-color .list-item').height(m)\r\n\t}\r\n}\r\n\r\nfunction toggleMenu(el) {\r\n\t$(el).parents('ul').find('li').removeClass('active')\r\n\t$(el).parents('li').addClass('active')\r\n\tsetToolPosC()\r\n}\r\n\r\nfunction toggleMenuChild(el) {\r\n\t$(el).parents('ul').find('li').removeClass('active')\r\n\t$(el).addClass('active')\r\n}\r\n\r\n//FUNCTION TO RESIZE SELECT NAV TO EQUALS BOX-PRODUCT\r\nfunction equalBoxSize() {\r\n\t$('.select-color').matchHeight({\r\n\t\tproperty: 'height',\r\n\t\ttarget: $('.apply-content'),\r\n\t});\r\n}\r\n\r\n// Canh Cam Code\r\n$(document).ready(() => {\r\n\tbaoNguyenApp.init()\r\n\tbaoNguyenApp.fetch(baoNguyenApp.API.URL + baoNguyenApp.API.main, 'GET', (e) => {\r\n\t\t// console.log(e.responseJSON)\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetToolPosC()\r\n\t\t}, 500);\r\n\t})\r\n\tsetToolPos()\r\n\tequalBoxSize()\r\n});\r\n\r\n$(window).resize(() => {\r\n\tsetTimeout(() => {\r\n\t\tsetToolPos()\r\n\t}, 500);\r\n});\r\n"]}